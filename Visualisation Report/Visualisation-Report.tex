% Document class options:
% 11pt for 11 point font
% oneside for not weird margins between odd and even pages
% (omitting oneside gives a better margin setup for print
% but i'm guessing  you're handing this in)
% a4paper to A4 page size, because LaTeX by default is setup
% to use US Letter paper size, because Donald Knuth
% the article class, as the book class is designed for
% larger documents and you probably don't need chapter
% environments
\documentclass[11pt, oneside, a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=cyan,
}

\urlstyle{same}

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{array}


% Set spacing (i set it to 1.2x)
\renewcommand{\baselinestretch}{1}
% Indentation (set this to zero for normal prose)
\setlength{\parindent}{0em}
% Line breaking (spacing between paragraphs)
\setlength{\parskip}{0.5em}

% Use the whole page
\usepackage{geometry}
% Extra math glyphs
\usepackage{amsmath}
% Proper enumerate spacing
\usepackage{enumitem}
% More pleasing screen fonts
\usepackage{lmodern}
% Fancy headers
\usepackage{fancyhdr}
\usepackage{graphicx}
% Allows absolute positioning of images
\usepackage{float}
% \usepackage[section]{placeins}
% Set no separation
\setlist{noitemsep}
% Set margins to reasonable
\geometry{margin=2.5cm}
% Sets graphics path
\graphicspath{ {./images/} }
% Sets up fancy headers
\pagestyle{fancy}
\fancyhf{}
\lhead{Natalie Hong Data Visualization Project Report}
\rhead{COSC3000}

\addto\captionsenglish{
\renewcommand{\listfigurename}{List of Graphs}
}

\usepackage{listings}
\usepackage{color}

\pagestyle{plain}

\begin{document}


\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

\thispagestyle{empty}

\tableofcontents

\listoffigures

\newpage

\pagenumbering{arabic}

\section{Introduction}
Super Smash Bros. Ultimate, a game for the Nintendo Switch is an immensely popular game with an amazing community nationwide. This report was created with the aims of giving the Australian community a better insight into character changes and skill gaps between each quarter of 2019 and differences between rising skill levels of states. This insight will be properly visualised through multiple data graphs including that of univariate, bivariate and multivariate representations.


\section{The Data Set}
Hello and welcome to my report about data visualisation. My name is Natalie and I am a third year Software Engineering student and I'm enjoying this course so far.
\

The data set I have chosen is that of character usage, skill gain and played tournaments revolving around that of a local gaming community in Australia. The way I have chosen to present this data set is through that of local JavaScript which calls the Google Chart library. This means that I will be able to deploy a live website showing this data for later viewing and later analysis. 
\

As data is always changing in database I was using, I decided to only pull data from last year (2019) to give a more accurate representation of data and split them into each quarter (every 3 months). Since I am an active player within this community, I believe that releasing this data publically will allow for a more insightful look into the past and how the metagame (accepted norm) of the community has changed.
\

I hope that you will find this interesting even if you don't play games.

\section{Techniques, Methods and Execution}
In this section, I will talk about my approach to the data collection; how I handled the data and how I displayed the data in web form.
\subsection{Techniques - The Approach to the Data}
The data that I was trying to access was that of a public API that I could easily access through Python. I preferenced m

The data was stored in JSON form which meant that I had to iterate through various levels of data to get the data that I wanted. 

Since I was on a mac, I had to create a virtual environment to be able to access the API. Once I set up this environment, I created a Python script then called the API using a variety of similar functions to the code block below.

\begin{lstlisting}    
headers = {'Content-Type': 'application/json',
           'X-ApiKey': '6PG3OWV9UCVFZNTXQJKR'}

# ID being the character ID
def character_matches(id):
    url = 'https://api.ausmash.com.au/characters/{}/matches'.format(id)
    response = requests.get(url, headers=headers)
    
    content = json.loads(response.content)
    # JSON file of the content received
    return content

\end{lstlisting}

How I was able to sort this data into a more readable and interactable form can be seen in the next section.

\href{https://api.ausmash.com.au/swagger/ui/index#/}{(Click for API Documentation)}

\subsection{Methods - How I Handled the Data}
Before working towards getting my data, I had decided that I wanted to pull elo gain (skill gain, it will be called elo throughout the report), the unique amount of players who played each character and the amount of tournaments entered for the specific character. Each character's data would then be sorted into states which would then further be stored into quarters (every 3 months e.g. Q1 is from January 1st 2019 to March 31st 2019).

To do this, I iterated through every single character's logged matches and got each unique player, their state and the won elo if the player won the match. I would also get the date and would match the date to the associated quarter. Once this was done, I then added their data to a large dictionary data structure.

Once the data was fully sorted, I wrote the contents of the dictionary into a JSON file which was then to be used for my JavaScript file which would display the data using Google Charts. This JavaScript usage will be explained in the next section.

\subsection{Execution - Displaying the Data}
Using \href{https://developers.google.com/chart}{Google Charts} I was able to create various suitable graphs for my collected data using native JavaScript. The chosen graphs that were used for my data visualisation were that of:
\begin{itemize}
	\item Bar Charts
	\item Bubble Charts
	\item Line/Area Charts
	\item Scatter Plots (using the same library as Bubble Charts)
	\item Step Graphs
\end{itemize}

Order of iteration through my chosen data would change depending on which graph I had chosen and and what I wanted to display. This lead to many different variances of the same code which would each have different outcomes. For example, for some code I would need to iterate through quarters rather than the states. 

When I wanted to create the specified chart, I would create an array to hold the data in it called 'overallData'. This array would then hold more arrays which would correspond to different datapoints and axis that I wanted to display depending on the chart that I had chosen. 

A demonstration of the JavaScript code used to display the chart can be seen below.

\begin{lstlisting}    
    function drawChart() {
		var data = google.visualization.arrayToDataTable(
			overallData
		);
		
		var options = {
			title: chartTitle,
			width: 1800,
			height: 800,
			vAxis: {
				title: 'Y axis name'
			},
			hAxis: {
				title: 'X axis name'
			}
		};
									
		var chart = new google.visualization.ChartType(document.getElementById("chart-div"));
		chart.draw(view, options);
	}
\end{lstlisting}

Using similar code blocks to this, I was able to create the following graphs which will be analysed in the next section. 

Note: For a more detailed look into my code check out my %\href{}{GitHub Repo}
\newpage

\section{Data Analysis}
\subsection{Character Analysis}
\begin{figure}[!ht]
	\setlength{\fboxrule}{1pt}
		\fbox{
			\includegraphics[scale=0.25]{bubblechart.png}
		}
	\caption{Bar Graph}
	\label{fig:figure1}
\end{figure}

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum

At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates repudiandae sint et molestiae non recusandae. Itaque earum rerum hic tenetur a sapiente delectus, ut aut reiciendis voluptatibus maiores alias consequatur aut perferendis doloribus asperiores
\newpage


\section{Extras}


\end{document}